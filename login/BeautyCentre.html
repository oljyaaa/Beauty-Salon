<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <title>Beauty Room</title>
  <link rel="stylesheet" href="style_main.css">

</head>
<body>

<!-- Topbar -->
<div class="topbar">
  <div class="left">
    <button class="toggle-btn" id="toggleBtn"></button>
    <div class="logo">Beauty Room</div>
  </div>
  <div class="center">
    <input type="text" id="searchInput" placeholder="–ü–æ—à—É–∫...">
  </div>
  <div class="right">
    <button id="sortBtn">‚áÖ –°–æ—Ä—Ç—É–≤–∞—Ç–∏</button>
    <button id="themeBtn">–ó–º—ñ–Ω–∞ —Ç–µ–º–∏</button>
  </div>
</div>

<!-- –ö–æ–Ω—Ç–µ–Ω—Ç -->
<div class="container">
  <!-- Sidebar -->
  <div class="sidebar" id="sidebar">
    <button>‚ûï –î–æ–¥–∞—Ç–∏ –∑–∞–ø–∏—Å</button>
    <ul>
      <li><a href="#" id="allTab">üì• –ó–∞–ø–∏—Å–∏</a></li>
      <li><a href="#" id="doneTab">‚≠ê –í–∏–∫–æ–Ω–∞–Ω—ñ</a></li>
      <li><a href="#">‚è∞ –ó–∞–ø–∏—Ç–∏ –Ω–∞ –∑–∞–ø–∏—Å–∏</a></li>
    </ul>
  </div>

  <!-- –û—Å–Ω–æ–≤–Ω–∏–π –±–ª–æ–∫ -->
  <div class="main" id="mainContent">
    <div class="email" data-id="1" data-from="Beauti Center" data-subject="–ó–∞–ø–∏—Å" data-body="–í–∞—à –∑–∞–ø–∏—Å –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–æ –Ω–∞ 15 –≤–µ—Ä–µ—Å–Ω—è." data-date="2025-09-15">
      <div class="left-part">
        <span class="from">Beauty Room</span>
        <span class="subject">–ó–∞–ø–∏—Å</span>
      </div>
      <div>
        <span class="date">15 –≤–µ—Ä.</span>
        <span class="star">‚òÜ</span>
      </div>
    </div>

    <div class="email" data-id="2" data-from="Temu" data-subject="0,01$ –ü–†–û–ü–û–ó–ò–¶–Ü–Ø" data-body="–í–∞–º –ø—Ä–æ–ø–æ–Ω—É—î—Ç—å—Å—è –±–æ–Ω—É—Å —è–∫ –ø–æ–¥—è–∫–∞ üíï" data-date="2025-09-15">
      <div class="left-part">
        <span class="from">Temu</span>
        <span class="subject">0,01$ –ü–†–û–ü–û–ó–ò–¶–Ü–Ø —è–∫ –ø–æ–¥—è–∫–∞ üíï</span>
      </div>
      <div>
        <span class="date">15 –≤–µ—Ä.</span>
        <span class="star">‚òÜ</span>
      </div>
    </div>

    <div class="email" data-id="3" data-from="Beauti Center" data-subject="–ó–∞–ø–∏—Å" data-body="–í–∞—à –∑–∞–ø–∏—Å –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–æ –Ω–∞ 14 –≤–µ—Ä–µ—Å–Ω—è." data-date="2025-09-14">
      <div class="left-part">
        <span class="from">Beauti Center</span>
        <span class="subject">–ó–∞–ø–∏—Å</span>
      </div>
      <div>
        <span class="date">14 –≤–µ—Ä.</span>
        <span class="star">‚òÜ</span>
      </div>
    </div>
  </div>
</div>

<script>
  const sidebar = document.getElementById('sidebar');
  const toggleBtn = document.getElementById('toggleBtn');
  const themeBtn = document.getElementById('themeBtn');
  const sortBtn = document.getElementById('sortBtn');
  const allTab = document.getElementById('allTab');
  const doneTab = document.getElementById('doneTab');
  const mainContent = document.getElementById('mainContent');
  const searchInput = document.getElementById('searchInput');

  let sortAsc = true;

  // –ú–µ–Ω—é
  toggleBtn.addEventListener('click', () => {
    sidebar.classList.toggle('open');
  });

  // –¢–µ–º–∞
  themeBtn.addEventListener('click', () => {
    document.body.classList.toggle('light');
  });

  // –ó—ñ—Ä–æ—á–∫–∏
  function initStars() {
    document.querySelectorAll('.star').forEach(star => {
      const parent = star.closest('.email');
      const id = parent.dataset.id;

      if(localStorage.getItem('star-' + id) === 'true') {
        star.classList.add('active');
        star.textContent = '‚òÖ';
      }

      star.onclick = () => {
        star.classList.toggle('active');
        if(star.classList.contains('active')) {
          star.textContent = '‚òÖ';
          localStorage.setItem('star-' + id, 'true');
        } else {
          star.textContent = '‚òÜ';
          localStorage.removeItem('star-' + id);
        }
      };
    });
  }
  initStars();

  // –§—ñ–ª—å—Ç—Ä "–í—Å—ñ" / "–í–∏–∫–æ–Ω–∞–Ω—ñ"
  allTab.addEventListener('click', (e) => {
    e.preventDefault();
    document.querySelectorAll('.email').forEach(email => {
      email.style.display = '';
    });
  });

  doneTab.addEventListener('click', (e) => {
    e.preventDefault();
    document.querySelectorAll('.email').forEach(email => {
      const id = email.dataset.id;
      if(localStorage.getItem('star-' + id) === 'true') {
        email.style.display = '';
      } else {
        email.style.display = 'none';
      }
    });
  });

  // –°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è
  sortBtn.addEventListener('click', () => {
    const emails = Array.from(document.querySelectorAll('.email'));
    emails.sort((a, b) => {
      return sortAsc
        ? new Date(a.dataset.date) - new Date(b.dataset.date)
        : new Date(b.dataset.date) - new Date(a.dataset.date);
    });
    sortAsc = !sortAsc;
    emails.forEach(e => mainContent.appendChild(e));
  });

  // –ü–æ—à—É–∫
  searchInput.addEventListener('input', () => {
    const q = searchInput.value.toLowerCase();
    document.querySelectorAll('.email').forEach(email => {
      const text = (email.dataset.from + email.dataset.subject + email.dataset.body).toLowerCase();
      email.style.display = text.includes(q) ? '' : 'none';
    });
  });
</script>

</body>
</html>
